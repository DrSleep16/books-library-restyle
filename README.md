## Как использовать скрипт для заполнения сайта библиотека книгами

Этот скрипт позволяет создавать многостраничный веб-сайт на основе данных из JSON и шаблона HTML, а также обеспечивает автоматическое обновление страниц при изменении шаблона.

### Установка зависимостей

Чтобы установить эти зависимости, выполните следующие шаги:

1. Перейдите в каталог, содержащий файл `requirements.txt`.

2. Откройте командную строку (терминал) и выполните следующую команду:

   ```bash
   pip install -r requirements.txt
   ```

   Эта команда автоматически установит все пакеты и версии, указанные в файле `requirements.txt`.
### Использование

1. Скопируйте скрипт `render_website.py` в свой рабочий каталог.

2. Откройте командную строку (терминал) и перейдите в каталог, где находится скрипт `render_website.py`.

3. Запустите скрипт с помощью командной строки:

   ```
   python render_website.py
   ```


### Дополнительная информация

### Описание файла `render_website.py`

Этот скрипт Python, `render_website.py`, предназначен для динамической генерации статических HTML-страниц на основе данных из JSON-файла и шаблона HTML. Сгенерированные страницы разбиваются на несколько частей, и добавляются навигационные элементы для переключения между страницами.

## Как это работает

1. **Импорт библиотек:**
   - Сначала импортируются необходимые библиотеки и модули, такие как `json`, `os`, `more_itertools`, `math`, `jinja2`, и `livereload`.

2. **Функция `rebuild`:**
   - Функция `rebuild` выполняет следующие шаги:
      - Открывает JSON-файл `"media/book_parse.json"`, содержащий данные о книгах, и загружает его в переменную `books`.
      - Разбивает список книг на несколько страниц, где каждая страница содержит до 20 книг, используя модуль `more_itertools.chunked`. Результат сохраняется в переменной `book_pages`.
      - Рассчитывает общее количество страниц `total_pages`, округляя вверх результат деления общего количества книг на 20.
      - Затем проходит по каждой странице книг, используя цикл `for`, и для каждой страницы:
        - Загружает шаблон HTML из файла `"template.html"` с помощью Jinja2.
        - Рендерит HTML, передавая данные о книгах, текущей странице и общем количестве страниц.
        - Сохраняет сгенерированный HTML в файл с именем `"pages/index{page_num}.html"`, где `{page_num}` - номер страницы.

3. **Основной блок:**
   - В основном блоке кода выполняется следующее:
     - Проверяется, если директория `"pages"` не существует, то она создается с помощью `os.makedirs`.
     - Затем вызывается функция `rebuild()`, чтобы сгенерировать страницы при запуске скрипта.
     - Создается объект `Server()` из библиотеки `livereload`, который следит за изменениями в файле `"template.html"` и автоматически пересоздает страницы при их изменении.
     - Запускается сервер для раздачи страниц с корневой папки `''`.

### Сайт: https://drsleep16.github.io/books-library-restyle

### Скриншот сайта:
![img.png](static/screenshot.png)

### Автор
Мочалов Дмитрий